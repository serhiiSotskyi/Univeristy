

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <meta name="csrf-token" content="{{ csrf_token }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>Document</title>
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container mt-5">
            <a class="navbar-brand" href="#">University DataBase</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item active">
                        <a class="nav-link" href="{% url 'index' %}">Select queries</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'index2' %}">Insert Queries<span class="sr-only">(current)</span></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'search_page' %}">Advanced Queries</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    
    <div class="container mt-5">

        <div class="row">
            <div class="col-md-6">
                <h2>Add a New Student</h2>
                
                <form id="add-student-form">
                    {% csrf_token %} 
                    <div class="form-group row">
                        <label for="student_name" class="col-sm-3 col-form-label">Student Name:</label>
                        <div class="col-sm-9">
                            <input type="text" id="student_name" name="student_name" class="form-control">
                        </div>
                    </div>
    
                    <div class="form-group row">
                        <label for="student_surname" class="col-sm-3 col-form-label">Student Surname:</label>
                        <div class="col-sm-9">
                            <input type="text" id="student_surname" name="student_surname" class="form-control">
                        </div>
                    </div>
    
                    <div class="form-group row">
                        <label for="student_major" class="col-sm-3 col-form-label">Student Major:</label>
                        <div class="col-sm-9">
                            <input type="text" id="student_major" name="student_major" class="form-control">
                        </div>
                    </div>
    
                    <div class="form-group row">
                        <label for="student_email" class="col-sm-3 col-form-label">Student Email:</label>
                        <div class="col-sm-9">
                            <input type="email" id="student_email" name="student_email" class="form-control">
                        </div>
                    </div>
    
                    <div class="form-group row">
                        <label for="student_phone_number" class="col-sm-3 col-form-label">Student Phone Number:</label>
                        <div class="col-sm-9">
                            <input type="text" id="student_phone_number" name="student_phone_number" class="form-control">
                        </div>
                    </div>
    
                    <div class="form-group row">
                        <label for="student_dob" class="col-sm-3 col-form-label">Student Date of Birth:</label>
                        <div class="col-sm-9">
                            <input type="date" id="student_dob" name="student_dob" class="form-control">
                        </div>
                    </div>
    
                    <div class="form-group row">
                        <label for="student_gender" class="col-sm-3 col-form-label">Student Gender:</label>
                        <div class="col-sm-9">
                            <select id="student_gender" name="student_gender" class="form-control">
                                <option value="Male">Male</option>
                                <option value="Female">Female</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                    </div>
    
                    <div class="form-group row">
                        <label for="student_enrollment_status" class="col-sm-3 col-form-label">Enrollment Status:</label>
                        <div class="col-sm-9">
                            <input type="text" id="student_enrollment_status" name="student_enrollment_status" class="form-control">
                        </div>
                    </div>
    
                    <div class="form-group row mt-4">
                        <div class="col-sm-12">
                            <button type="button" id="add_student_submit" class="btn btn-primary btn-block">Add Student</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    
        <div class="row mt-4">
            <div class="col-md-6">
                <div id="add-student-message"></div>
            </div>
        </div>
    
    </div>
    
    
    
    
    
    <div class="container mt-5">

        <div class="row">
            <div class="col-md-6">
                <h2>Add a New Instructor</h2>
                
                <form id="add-instructor-form">
                    {% csrf_token %}
                    
                    <div class="form-group row">
                        <label for="instructor_name" class="col-sm-4 col-form-label">Instructor Name:</label>
                        <div class="col-sm-8">
                            <input type="text" id="instructor_name" name="instructor_name" class="form-control">
                        </div>
                    </div>
    
                    <div class="form-group row">
                        <label for="instructor_surname" class="col-sm-4 col-form-label">Instructor Surname:</label>
                        <div class="col-sm-8">
                            <input type="text" id="instructor_surname" name="instructor_surname" class="form-control">
                        </div>
                    </div>
    
                    <div class="form-group row">
                        <label for="department" class="col-sm-4 col-form-label">Department:</label>
                        <div class="col-sm-8">
                            <select id="department" name="department" class="form-control">
                                {% for department in departments %}
                                    <option value="{{ department.0 }}">{{ department.1 }}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
    
                    <div class="form-group row mt-4">
                        <div class="col-sm-12">
                            <button type="button" id="add_instructor_submit" class="btn btn-primary btn-block">Add Instructor</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    
        <div class="row mt-4">
            <div class="col-md-6">
                <div id="add-instructor-message"></div>
            </div>
        </div>
    
    </div>
    
    
    <script>
        // Add instructor
        $(document).ready(function(){
            var csrftoken = $('meta[name=csrf-token]').attr('content');

            $("#add_instructor_submit").click(function(){
                var instructorData = {
                    instructor_name: $("#instructor_name").val(),
                    instructor_surname: $("#instructor_surname").val(),
                    department: $("#department").val()
                };

                console.log(JSON.stringify(instructorData));

                $.ajax({
                    url: "add_instructor/",
                    type: "POST",
                    headers: {
                        'X-CSRFToken': csrftoken,
                        'Content-Type': 'application/json'
                    },
                    data: JSON.stringify(instructorData),
                    contentType: 'application/json; charset=utf-8',
                    dataType: 'json',
                    success: function(response){
                        // Handle success
                        $("#add-instructor-message").html("Instructor added successfully.");
                    },
                    error: function(error){
                        // Handle error
                        $("#add-instructor-message").html("Error adding instructor.");
                    }
                });
            });
        });


        // Add student
        $(document).ready(function(){
            var csrftoken = $('meta[name=csrf-token]').attr('content');
    
            $("#add_student_submit").click(function(){
                
                var studentData = {
                    student_name: $("#student_name").val(),
                    student_surname: $("#student_surname").val(),
                    student_major: $("#student_major").val(),
                    student_email: $("#student_email").val(),
                    student_phone_number: $("#student_phone_number").val(),
                    student_dob: $("#student_dob").val(),
                    student_gender: $("#student_gender").val(),
                    student_enrollment_status: $("#student_enrollment_status").val()
                };
                
                console.log(JSON.stringify(studentData));  // Debugging line
                
                $.ajax({
                    url: "add_student/",
                    type: "POST",
                    headers: {
                        'X-CSRFToken': csrftoken,
                        'Content-Type': 'application/json'
                    },
                    data: JSON.stringify(studentData),
                    contentType: 'application/json; charset=utf-8',
                    dataType: 'json',
                    success: function(response){
                        // Handle success
                        $("#add-student-message").html("Student added successfully.");
                    },
                    error: function(error){
                        // Handle error
                        $("#add-student-message").html("Error adding student.");
                    }
                });
            });
        });
        

        
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

</body>
</html>